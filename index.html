<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>JX Demo</title>
    <script src="./src/jx.js" defer></script>
  </head>

  <body>

    <h2>JX Demo</h2>

    <button jx-get="https://jsonplaceholder.typicode.com/users/1" jx-template="user">
      Load User
    </button>

    <template id="user">
      <div>
        <h3>{{ name }}</h3>
        <p>Email: {{ email }}</p>
        <p jx-if="address.city">City: {{ address.city }}</p>
      </div>
    </template>

    <button jx-get="https://jsonplaceholder.typicode.com/posts?userId=1" jx-template="posts">
      Load Posts
    </button>

    <template id="posts">
      <ul>
        <li jx-each=".">
          <strong>{{ id }}</strong> â€” {{ title }}
        </li>
      </ul>
    </template>

    <button jx-get="https://jsonplaceholder.typicode.com/photos/1" jx-template="photo">
      Load Photo
    </button>

    <template id="photo">
      <div>
        <img src="{{ thumbnailUrl }}" alt="{{ title }}">
        <p>{{ title }}</p>
      </div>
    </template>

    <button jx-get="https://jsonplaceholder.typicode.com/todos/1" jx-template="todo" jx-save="todo-cache">
      Load + Save Todo
    </button>

    <button onclick="JX.loadCached('todo-cache','todo')">
      Load Cached Todo
    </button>

    <template id="todo">
      <div>
        <h4>{{ title }}</h4>
        <p>Completed: {{ completed }}</p>
      </div>
    </template>

    <button id="auto">Auto Load User 2</button>

    <template id="user2">
      <div>
        <h3>{{ name }}</h3>
        <p>{{ email }}</p>
      </div>
    </template>

    <button id="json">Load json</button>
    <template id="mini">
      <p>{{ title }}</p>
    </template>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        JX.bind("#json", {
          data:{title:"From json"},
          template: "mini"
        });

        JX.bind("#auto", {
          url: "https://jsonplaceholder.typicode.com/users/2",
          template: "user2"
        });

        JX.load("#auto", {
          url: "https://jsonplaceholder.typicode.com/users/2",
          template: "user2"
        });
      });
    </script>

  </body>
</html>

